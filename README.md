# wildfire-analysis

## Goal of this project
The goal of this work is to explore the impact of wildfires on Arlington, Texas.

Wildfires are uncontrolled fires that burn in wildland areas, including forests, grasslands, and brush. They can occur naturally through lightning strikes or be ignited by human activities, such as campfires, discarded cigarettes, or arson. The primary causes of wildfires include dry weather, high temperatures, low humidity, and strong winds, which create conditions conducive to fire spread. Additionally, the accumulation of combustible materials, such as dead vegetation and forest debris, can significantly increase the likelihood of wildfires. Understanding the various factors that lead to wildfires is crucial for effective prevention and management strategies, especially in regions prone to such incidents.

Analyzing past wildfire data is essential for several reasons, including improving predictive modeling, informing policy decisions, and enhancing public safety measures. Historical data can reveal patterns in wildfire occurrence, helping researchers identify high-risk areas and times when wildfires are more likely to happen. Furthermore, wildfires can have significant implications for air quality, as they release large amounts of particulate matter and other pollutants into the atmosphere. This can lead to deteriorated air quality in nearby urban areas, affecting the health of residents and contributing to environmental issues. By studying past wildfire events, researchers can better understand their impact on air quality and implement measures to mitigate these effects in vulnerable communities.

The project analysis and reflection document can be found in the `/reports` directory.

## Licenses
1. Code used in `compute_distance.py`, `data_clean_aqi.ipynb` and `data_clean_wildfire.ipynb` - This code example extended by the code snippets developed by Dr. David W. McDonald for use in DATA 512, a course in the UW MS Data Science degree program. This code is provided under the [Creative Commons](https://creativecommons.org) [CC-BY license](https://creativecommons.org/licenses/by/4.0/). Revision 1.3 - August 16, 2024
2. Accessed data from the US Environmental Protection Agency website which states that you can cite data obtained from the AirData website using the following citation: US Environmental Protection Agency. Air Quality System Data Mart [internet database] available via https://www.epa.gov/outdoor-air-quality-data. Accessed [Oct 30, 2024].

## Source data
1. USGS Wildfire Dataset - U.S. Geological Survey (USGS) focuses on the 2021 National Land Cover Database (NLCD), which provides detailed information on land cover and land use patterns across the United States. This particular [dataset](https://www.sciencebase.gov/catalog/item/61aa537dd34eb622f699df81) (GeoJSON_files.zip - 3.84 GB) has a different spatial scale, spatial resolution, and time period for their particular wildland fire dataset. The purpose of these new datasets is to combine these disparate wildfire datasets, using a common set of attributes, into a single set of polygons with a single fire boundary for each fire. This dataset is intended to create a more comprehensive fire dataset than the existing datasets while eliminating duplication of fire polygons and attributes.
2. [EPS Air Quality System API](https://www.epa.gov/outdoor-air-quality-data/frequent-questions-about-airdata) - The dataset is sourced from the U.S. Environmental Protection Agency's (EPA) Air Quality System (AQS) API, which provides historical air quality measurements across the United States. While not offering real-time data, this comprehensive database began standardized monitoring with quality assurance procedures in the 1980s, following the EPA's establishment in the early 1970s. The data collection typically initiated between 1983-1988 for most counties, though coverage varies geographically as some regions still lack monitoring stations. For doubts, refer the [FAQ page](https://www.epa.gov/outdoor-air-quality-data/frequent-questions-about-airdata).
Note - you will require authentication / signup to access this API. More is mentioned in `data_clean_aqi.ipynb`. For rate limits, [refer here](https://www.epa.gov/outdoor-air-quality-data/frequent-questions-about-airdata).

## Steps to replicate the workflow
1. Download the original wildfire data from [USGS Wildfire Dataset](https://www.sciencebase.gov/catalog/item/61aa537dd34eb622f699df81) and store it in `raw_data` folder.
2. Compute the distances between your desired city and the wildfires using `data_clean_wildfire.ipynb`. Make sure to modify the city parameters accordingly, and also look at theh Gotchas section for any issues with the code involving `multiprocessing` library. This will generate two intermediary files `fire_distance_info.json` and `fire_distance_errors.json`.
3. Get the AQI values for your city using the code in `data_clean_aqi.ipynb`. This will generate one intermediary files `df_aqi_yearly_weighted.csv`. This step might require manual intervention, as this step will change significantly based on the data that you get in previous steps.
4. Run the `smoke_estimates_and_modelling.ipynb` to do the smoke estimates and perform the modelling part. This step will require manual intervention, as this step will change significantly based on the data that you get in previous steps.

## About the time-series model
Our model predicts takes in how smoke levels have changed over time and predicts what they might look like in the future. While this output seems to be satisfactory, it is not guaranteed to hold in real life where multiple confounding variables are influencing the real-life values, especially if there are big changes like climate change.

We start off by fitting an unoptimized ARIMA model and checking the fit coefficients, covariance and metrics to see how well it will perform. We do this on the entire dataset just to test out the waters.

The ARIMA model acronym stands for “Auto-Regressive Integrated Moving Average”. In more details -
* A is the autoregressive component of the ARIMA model, and is represented by AR(p), with the p parameter determining the number of lagged series that we use.
* MA(q) is the moving average model and q is the number of lagged forecasting error terms in the prediction. In an MA(1) model, our forecast is a constant term plus the previous white noise term times a multiplier, added with the current white noise term.

The ARIMA model is an ARMA model yet with a preprocessing step included in the model that we represent using I(d). I(d) is the difference order, which is the number of transformations needed to make the data stationary. So, an ARIMA model is simply an ARMA model on the differenced time series.

We fit an initial ARIMA model and understand the outputs. Looking at the results from ARIMA, we find out that ARIMAX would likely perform better than ARIMA for predicting smoke estimates in this context because it accounts for exogenous variables that can significantly influence the outcome. In our case, this might be the additional wildfire variables that we are trying to incorporate into our prediction model, like `GIS_Acres`, `Shape_Area`, `avg_distance` etc. While ARIMA relies solely on historical values of the time series itself, ARIMAX is capable of incorporating these additional factors that can directly impact smoke levels. As we saw in the previous charts, since the occurrence of wildfires in previous years correlates with increased smoke levels, using ARIMAX would allow the model to consider this relationship, improving our prediction accuracy.

The only difference between ARIMA and ARIMAX is the addition of an exogenous (external) variable. The ARIMA model works on a single time series data (univariate) whereas ARIMAX uses multiple variables to include the external feature. This will cater to our specific usecase as it allows us to include multiple dependent variables into our model.


## Gotchas
1. The US EPA was only created in 1973, and did not really begin installing air quality monitoring stations until the early 1980s. Further, of 3000+ counties in the US, the EPA has vetted monitoring stations in only 2000 of them. This means that US EPA AQI measures for any one city will need to be some kind of estimate based on monitoring stations that are nearby. While we took enough precautions to make sure this doesn't skew our analysis and predictions, this is one thing to remember.
2. Calculating AQI is a highly complex process involving multiple calculations, and care has been taken to replicate the same level of accuracy for our analysis wherever possible. For more details on how AQI is calculated, refer [this article](https://www.airnow.gov/aqi/aqi-basics/).
3. Calculating the distance between the city and the wildfires takes a lot of time, so I have optimized the code so that it can run parallely on multiple threads. This might not be a cross-compatible solution, so might have to make suitable changes to run it in different systems.
4. Our ARIMAX model predicts takes in how smoke levels have changed over time and predicts what they might look like in the future. While this output seems to be satisfactory, it is not guaranteed to hold in real life where multiple confounding variables are influencing the real-life values, especially if there are big changes like climate change.